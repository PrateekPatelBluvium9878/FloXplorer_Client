<FlowMetadata>
	<apiVersion>64</apiVersion>
	<assignments>
		<assignmentItems>
			<assignToReference>ContactsToBeUpdated</assignToReference>
			<operator>Add</operator>
			<value>
				<elementReference>Loop_all_contacts</elementReference>
			</value>
		</assignmentItems>
		<connector>
			<targetReference>Loop_all_contacts</targetReference>
		</connector>
		<label>Add contact to collection</label>
		<locationX>0</locationX>
		<locationY>0</locationY>
		<name>Add_contact_to_collection</name>
	</assignments>
	<assignments>
		<assignmentItems>
			<assignToReference>Loop_all_contacts.Email</assignToReference>
			<operator>Assign</operator>
			<value>
				<elementReference>$Record.Email__c</elementReference>
			</value>
		</assignmentItems>
		<connector>
			<targetReference>Add_contact_to_collection</targetReference>
		</connector>
		<label>Assign Account Email on Contact</label>
		<locationX>0</locationX>
		<locationY>0</locationY>
		<name>Assign_Account_Email_on_Contact</name>
	</assignments>
	<decisions>
		<defaultConnectorLabel>No</defaultConnectorLabel>
		<label>Are there are Contacts to be updated?</label>
		<locationX>0</locationX>
		<locationY>0</locationY>
		<name>Are_there_are_Contacts_to_be_updated</name>
		<rules>
			<conditionLogic>and</conditionLogic>
			<conditions>
				<leftValueReference>ContactsToBeUpdated</leftValueReference>
				<operator>IsNull</operator>
				<rightValue>
					<booleanValue>false</booleanValue>
				</rightValue>
			</conditions>
			<connector>
				<targetReference>Update_contacts_with_new_email</targetReference>
			</connector>
			<label>Yes</label>
			<name>Yes</name>
		</rules>
	</decisions>
	<decisions>
		<defaultConnector>
			<targetReference>Assign_Account_Email_on_Contact</targetReference>
		</defaultConnector>
		<defaultConnectorLabel>Not Match</defaultConnectorLabel>
		<label>Does Contact email match with Account email?</label>
		<locationX>0</locationX>
		<locationY>0</locationY>
		<name>Does_Contact_email_match_with_Account_email</name>
		<rules>
			<conditionLogic>and</conditionLogic>
			<conditions>
				<leftValueReference>Loop_all_contacts.Email</leftValueReference>
				<operator>EqualTo</operator>
				<rightValue>
					<elementReference>$Record.Email__c</elementReference>
				</rightValue>
			</conditions>
			<connector>
				<targetReference>Loop_all_contacts</targetReference>
			</connector>
			<label>Match</label>
			<name>Match</name>
		</rules>
	</decisions>
	<environments>Default</environments>
	<interviewLabel>Account - On Update Email - Update Related Contact Email {!$Flow.CurrentDateTime}</interviewLabel>
	<label>Account - On Update Email - Update Related Contact Email</label>
	<loops>
		<collectionReference>Get_related_contacts</collectionReference>
		<iterationOrder>Asc</iterationOrder>
		<label>Loop all contacts</label>
		<locationX>0</locationX>
		<locationY>0</locationY>
		<name>Loop_all_contacts</name>
		<nextValueConnector>
			<targetReference>Does_Contact_email_match_with_Account_email</targetReference>
		</nextValueConnector>
		<noMoreValuesConnector>
			<targetReference>Are_there_are_Contacts_to_be_updated</targetReference>
		</noMoreValuesConnector>
	</loops>
	<processMetadataValues>
		<name>BuilderType</name>
		<value>
			<stringValue>LightningFlowBuilder</stringValue>
		</value>
	</processMetadataValues>
	<processMetadataValues>
		<name>CanvasMode</name>
		<value>
			<stringValue>AUTO_LAYOUT_CANVAS</stringValue>
		</value>
	</processMetadataValues>
	<processMetadataValues>
		<name>OriginBuilderType</name>
		<value>
			<stringValue>LightningFlowBuilder</stringValue>
		</value>
	</processMetadataValues>
	<processType>AutoLaunchedFlow</processType>
	<recordCreates>
		<inputAssignments>
			<field>ParentId</field>
			<value>
				<elementReference>$Record.Id</elementReference>
			</value>
		</inputAssignments>
		<inputAssignments>
			<field>Title</field>
			<value>
				<stringValue>Email updated on related contacts</stringValue>
			</value>
		</inputAssignments>
		<label>Create Note</label>
		<locationX>0</locationX>
		<locationY>0</locationY>
		<name>Create_Note</name>
		<object>Note</object>
		<storeOutputAutomatically>true</storeOutputAutomatically>
	</recordCreates>
	<recordLookups>
		<assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
		<connector>
			<targetReference>Loop_all_contacts</targetReference>
		</connector>
		<filterLogic>and</filterLogic>
		<filters>
			<field>AccountId</field>
			<operator>EqualTo</operator>
			<value>
				<elementReference>$Record.Id</elementReference>
			</value>
		</filters>
		<getFirstRecordOnly>false</getFirstRecordOnly>
		<label>Get related contacts</label>
		<locationX>0</locationX>
		<locationY>0</locationY>
		<name>Get_related_contacts</name>
		<object>Contact</object>
		<storeOutputAutomatically>true</storeOutputAutomatically>
	</recordLookups>
	<recordUpdates>
		<connector>
			<targetReference>Create_Note</targetReference>
		</connector>
		<inputReference>ContactsToBeUpdated</inputReference>
		<label>Update contacts with new email</label>
		<locationX>0</locationX>
		<locationY>0</locationY>
		<name>Update_contacts_with_new_email</name>
	</recordUpdates>
	<start>
		<connector>
			<targetReference>Get_related_contacts</targetReference>
		</connector>
		<filterLogic>and</filterLogic>
		<filters>
			<field>Email__c</field>
			<operator>IsChanged</operator>
			<value>
				<booleanValue>true</booleanValue>
			</value>
		</filters>
		<locationX>0</locationX>
		<locationY>0</locationY>
		<object>Account</object>
		<recordTriggerType>Update</recordTriggerType>
		<triggerType>RecordAfterSave</triggerType>
	</start>
	<status>Draft</status>
	<variables>
		<dataType>SObject</dataType>
		<isCollection>true</isCollection>
		<isInput>false</isInput>
		<isOutput>false</isOutput>
		<name>ContactsToBeUpdated</name>
		<objectType>Contact</objectType>
	</variables>
</FlowMetadata>